{% extends "admin/material/masters/layout-admin.html.twig" %}

{% block pageHeader %}
    <header class="">
        <div class="header-wrapper">
            <div class="inner-header-wrapper">
                <div class="top-header-wrapper">
                    <div class="header-title">
                        <span>Pages</span>
                    </div>
                </div>
            </div>
        </div>
    </header>
{% endblock %}

{% block content %}
<div class="grid grid-clear">
        <div class="grid-outer-full">
            <a class="paper-btn float-btn tooltipped" data-toggle="tooltip" data-placement="top" title="New page" href="{{ app.url_generator.generate('admin/page/add') }}">
                <i class="fa fa-plus"></i>
            </a>
            <div class="grid-content">
                <div class="item-list">
                    {% if pages|length < 1 %}
                        no pages
                    {% else %}
                        <div class="item-list">
                            <div class="item-wrap item-header">
                                <div class="item">
                                    <div>Title</div>
                                </div>
                                <div class="item">
                                    <div>URL</div>
                                </div>
                                <div class="item">
                                    <div>Last Modified</div>
                                </div>
                                <div class="item">
                                </div>
                            </div>
                            {% for page in pages %}
                                <div class="item-wrap">
                                    <div class="item">
                                        {% if page.getSlug == '/' %}
                                            <div><i class="fa fa-circle-thin"></i> {{ page.getTitle }}</div>
                                        {% else %}
                                            <div><i class="fa fa-circle-thin icon-{{ page.getTypeColor }}"></i> {{ page.getTitle }}</div>
                                        {% endif %}
                                    </div>
                                    <div class="item">
                                        <div><a href="{# {{ app.url_generator.generate(page.getSlug) }} #}#">{{ page.getSlug }}</a></div>
                                    </div>
                                    <div class="item">
                                        <div>{{ page.getCreatedAt|date }}</div>
                                    </div>
                                    <div class="item">
                                        <a class="detail-btn" href="{{ app.url_generator.generate('admin/page/get', {page:page.getId}) }}">
                                            <i class="fa fa-ellipsis-v"></i>
                                        </a>
                                    </div>
                                </div>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    <div class="right-bar">
        {% include 'admin/material/widgets/page-metadata.html.twig' %}
    </div>
{% endblock %}
