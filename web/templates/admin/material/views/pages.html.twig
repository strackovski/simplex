{% extends "admin/material/masters/layout-admin.html.twig" %}

{% block pageHeader %}
    <header class="">
        <div class="header-wrapper">
            <div class="inner-header-wrapper">
                <div class="top-header-wrapper">
                    <div class="header-title">
                        <span>Content</span> <span class="page-title"><i class="fa fa-angle-right"></i>Pages</span>
                    </div>
                </div>
            </div>
        </div>
    </header>
{% endblock %}

{% block content %}
<div class="grid grid-clear">
        <div class="grid-outer-full">
            <a class="paper-btn float-btn tooltipped" data-toggle="tooltip" data-placement="top" title="New page" href="{{ app.url_generator.generate('admin/page/add') }}">
                <i class="fa fa-plus"></i>
            </a>
            <div class="grid-content">
                <div class="item-list page-list">
                    {% if pages|length < 1 %}
                        <div class="empty-msg">
                            <h1 class="ghost big">No pages added yet</h1>
                            <div class="holder holder-post">
                                <div class="p-main">
                                    <div class="p-header">
                                        <div class="p-flag"></div>
                                        <div class="p-title"></div>
                                    </div>
                                    <div class="p-content">
                                        <ul class="p-insides">
                                            <li class="img"></li>
                                            <li class="line"></li>
                                            <li class="line"></li>
                                            <li class="line"></li>
                                            <li class="line"></li>
                                            <li class="line"></li>
                                            <li class="line"></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <p>
                                <a class="form-btn new-page empty-add" href="{{ app.url_generator.generate('admin/page/add') }}">Add one now</a>
                            </p>
                        </div>
                    {% else %}
                        <div class="item-list">
                            <div class="item-wrap item-header">
                                <div class="item">

                                </div>
                                <div class="item">
                                    <div>Title</div>
                                </div>
                                <div class="item">
                                    <div>URL</div>
                                </div>
                                <div class="item">
                                    <div>Last Modified</div>
                                </div>
                                <div class="item">
                                </div>
                            </div>
                            {% for page in pages %}
                                <div class="item-wrap">
                                    <div class="item status-item">
                                        <div class="status-div">
                                        {% if page.getInMenu %}
                                            <div class="status-icon"><i class="fa fa-sitemap active"></i></div>
                                        {% else %}
                                            <div class="status-icon"><i class="fa fa-sitemap"></i></div>
                                        {% endif %}

                                        {% if page.getSlug == '/' %}
                                            <div class="page-icon"><i class="fa fa-circle-thin fa-2x"></i></div>
                                        {% else %}
                                            <div class="page-icon"><i class="fa fa-circle-thin fa-2x icon-{{ page.getTypeColor }}"></i></div>
                                        {% endif %}
                                        </div>
                                    </div>
                                    <div class="item">
                                        {% if page.getSlug == '/' %}
                                            <div>{{ page.getTitle }}</div>
                                        {% else %}
                                            <div>{{ page.getTitle }}</div>
                                        {% endif %}
                                    </div>
                                    <div class="item">
                                        <div><a href="{# {{ app.url_generator.generate(page.getSlug) }} #}#">{{ page.getSlug }}</a></div>
                                    </div>
                                    <div class="item">
                                        <div>{{ page.getCreatedAt|date }}</div>
                                    </div>
                                    <div class="item">
                                        <a class="detail-btn" href="{{ app.url_generator.generate('admin/page/get', {page:page.getId}) }}">
                                            <i class="fa fa-ellipsis-v"></i>
                                        </a>
                                    </div>
                                </div>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    <div class="right-bar">
        {% include 'admin/material/widgets/page-metadata.html.twig' %}
    </div>
{% endblock %}
